function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var c=t[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,_toPropertyKey(c.key),c)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0===o)return("string"===t?String:Number)(e);o=o.call(e,t||"default");if("object"!=_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}(i=>{var e=(()=>_createClass(function e(){_classCallCheck(this,e)},[{key:"init",value:function(){this.tabsInit(),this.showHideSettings(),this.selectInit(),this.stickyInit(),this.switchHandle(),this.shortcodeHandle(),this.colorSchemeHandle()}},{key:"tabsInit",value:function(){var o=this,e=i("#ulmc-settings-tab-links li a"),t=o.getCookie("ulmcOpenedTab");t&&i('.ulmc-settings-section[id="'+t+'"]').length&&(i(".ulmc-settings-section").removeClass("active"),i('.ulmc-settings-section[id="'+t+'"]').addClass("active"),i("#ulmc-settings-tab-links a").removeClass("active"),i('#ulmc-settings-tab-links a[href="#'+t+'"]').addClass("active")),e.click(function(e){var t=i(this);e.preventDefault(),i("#ulmc-settings-tab-links a.active, section.active").removeClass("active"),t.addClass("active"),i(t.attr("href")).addClass("active"),o.setCookie("ulmcOpenedTab",t.attr("href").replace("#",""),1)})}},{key:"showHideSettings",value:function(){["title_show","user_agreements","privacy_policy","terms_and_conditions","down_payment"].forEach(function(e){i('input[name="ulmc_options['.concat(e,']"]')).change(function(){i("#".concat(e,"_settings")).slideToggle()})})}},{key:"selectInit",value:function(){i.fn.customSelect&&(i("#ulmc_currency_select").customSelect({block:"ulmc-select",search:!0,includeValue:!0}),i("#ulmc_date_format").customSelect({block:"ulmc-select",includeValue:!0}),i("#ulmc_font_size").customSelect({block:"ulmc-select",includeValue:!0}))}},{key:"stickyInit",value:function(){i("#ulmc-settings-tab-links").sticky({stickyClass:"sticky",buffer:52}),i(window).on("resize",function(e){i("#ulmc-settings-tab-links").sticky({stickyClass:"sticky",buffer:52})})}},{key:"switchHandle",value:function(){i(".ulmc-switch-option").click(function(){var e=i(this).data("position"),t=i(this).parent().find("input");"left"==e?t.prop("checked",!1):t.prop("checked",!0),t.trigger("change")})}},{key:"shortcodeHandle",value:function(){var t=this;i(".ulmc-shortcode-copy").click(function(){var e=document.querySelector(".ulmc-shortcode-result");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),i(".ulmc-shortcode-copy .ulmc-tooltip-text").text(window.ulmc_vars.i18n.copied)}),i(".ulmc-shortcode-copy").mouseout(function(){i(".ulmc-shortcode-copy .ulmc-tooltip-text").text(window.ulmc_vars.i18n.copyShortcode)}),t.moveShortcode(),i(window).on("resize",function(e){t.moveShortcode()})}},{key:"moveShortcode",value:function(){window.matchMedia("(max-width: 600px)").matches?i(".ulmc-shortcode").appendTo(".ulmc-shortcode-mob"):i(".ulmc-shortcode").appendTo(".ulmc-shortcode-desktop")}},{key:"colorSchemeHandle",value:function(){i(".ulmc-color").each(function(){i(this).wpColorPicker({defaultColor:i(this).data("default-color")})}),i(".ulmc-color-custom").each(function(){i(this).wpColorPicker({defaultColor:i(this).data("default-color"),change:_.debounce(function(e,t){t=t.color.toCSS("hex");i("#ulmc_schema_color_custom").val(t)},200)})})}},{key:"changeDefaultColorsAjax",value:function(e){var t=this,e={action:"change_color_schema",ulmc_primary_color:e};i(".ulmc-settings-submit").addClass("ulmc-loading"),jQuery.post(window.ulmc_vars.ajaxurl,e,function(e){t.changeDefaultColors(e),i(".ulmc-settings-submit").removeClass("ulmc-loading")})}},{key:"changeDefaultColors",value:function(e){var c="";i.each(JSON.parse(e),function(o,e){i.each(e,function(e,t){c=(c=(c+='<tr class="ulmc-color-row '+o+'">')+'<td><label for="ulmc_'+o+"_"+e+'">'+t.name+"</label></td>")+'<td><input type="text" class="ulmc-color" name="ulmc_colors['+o+"]["+e+']" id="ulmc_'+o+"_"+e+'" value="'+t.default_color+'" data-default-color="'+t.default_color+'"></td></tr>'})}),i(".ulmc-settings-color-table-body").html(c),i(".ulmc-color").each(function(){i(this).wpColorPicker({defaultColor:i(this).data("default-color")})})}},{key:"setCookie",value:function(e,t,o){var c,i="";o&&((c=new Date).setTime(c.getTime()+60*o*60*1e3),i="; expires="+c.toUTCString()),document.cookie=e+"="+(t||"")+i+"; path=/"}},{key:"getCookie",value:function(e){for(var t=e+"=",o=document.cookie.split(";"),c=0;c<o.length;c++){for(var i=o[c];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}}]))();window.ulmc_admin=new e,ulmc_admin.init()})(jQuery);